<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Message</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#ffffff">

  <style>
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
    }

    body {
      height: 100vh;
      background: url('pankh.png') no-repeat center center fixed; 
      background-size: cover; 
      font-family: 'Segoe UI', sans-serif; 
      display: flex;
      flex-direction: column; 
      align-items: center; 
      justify-content: center; 
      padding: 20px; 
      color: #1e1e1e; 
    }

    .message-box, .ps-box {
      background: rgba(255, 255, 255, 0.2); 
      backdrop-filter: blur(10px); 
      padding: 30px 40px; 
      border-radius: 15px; 
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.2); 
      max-width: 600px; 
      text-align: center; 
      margin-bottom: 30px; 
    }

    .line {
      font-size: 1.5em; 
      margin: 15px 0; 
      opacity: 0; 
    }

    .ps-box {
      font-size: 1.1em; 
      font-style: italic; 
      opacity: 0; 
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); } 
      to   { opacity: 1; transform: translateY(0); } 
    }

    @media (max-width: 600px) {
      .message-box, .ps-box { 
        padding: 20px 25px; 
        font-size: 1em; 
        margin-bottom: 20px; 
      }
      .line { 
        font-size: 1.2em; 
        margin: 10px 0; 
      }
      .ps-box { 
        font-size: 1em; 
      }
    }

    #popup {
      position: fixed; 
      top: 0; left: 0;
      width: 100%; height: 100%; 
      display: none; 
      justify-content: center; 
      align-items: center; 
      background: rgba(0,0,0,0.6); 
      z-index: 1000; 
    }

    #popup .box {
      background: url('banshuri.jpg') no-repeat center center; 
      background-size: cover; 
      padding: 30px; 
      border-radius: 12px; 
      text-align: center; 
      max-width: 300px; 
      width: 90%; 
      color: #fff; 
      box-shadow: 0 0 15px rgba(0,0,0,0.5); 
    }

    #popup h3 { margin-bottom: 10px; font-size: 1.2em; }
    #popup p { font-size: 0.9em; margin-bottom: 20px; }

    #popup button {
      padding: 10px 15px; 
      margin: 0 10px; 
      border: none; 
      border-radius: 6px; 
      font-weight: bold; 
      cursor: pointer; 
    }

    #denyBtn { background: #eee; color: #333; } 
    #allowBtn { background: #007bff; color: #fff; } 
  </style>
</head>
<body>

  <div class="message-box" id="messageBox">
    <div class="line">Hey you.</div>
    <div class="line">Yes, you.ðŸ˜Œ</div>
    <div class="line">How is the result?ðŸŽ“</div>
    <div class="line">Good job if it is better than expected.ðŸ’¯</div>
    <div class="line">Congratulations.ðŸŽ‰</div>
    <div class="line">If not,</div>
    <div class="line">Congratulations â€” welcome to life.</div>
    <div class="line">You know, you can talk with me anytime, right? ðŸ˜ž </div>
  </div>

  <div class="ps-box" id="psBox">
    <p>PS: Phone is broken, no way to use anything. Just remembered Instagram password.ðŸ˜…</p>
  </div>

  <audio id="bg-music" loop muted playsinline style="display:none;">
    <source src="flute-of-the-heart.mp3" type="audio/mpeg">
    Your browser doesn't support audio playback.
  </audio>

  <div id="popup">
    <div class="box">
      <h3>Here for you, and don't worry</h3>
      <p>Do you want to play audio too?</p>
      <div>
        <button id="denyBtn">Deny</button>
        <button id="allowBtn">Okay</button>
      </div>
    </div>
  </div>

  <script>
    const audio = document.getElementById('bg-music');
    const popup = document.getElementById('popup');
    const denyBtn = document.getElementById('denyBtn');
    const allowBtn = document.getElementById('allowBtn');
    const messageBox = document.getElementById('messageBox');
    const psBox = document.getElementById('psBox');
    const lines = document.querySelectorAll('.line');

    const delays = [0.5, 2.5, 4.5, 6.5, 8.5, 10.5, 12.5, 14.5];
    const psDelay = 16.5;

    function startTextAnimation() {
      lines.forEach((line, index) => {
        line.style.animation = `fadeInUp 2s ease forwards ${delays[index]}s`;
      });
      psBox.style.animation = `fadeInUp 2s ease forwards ${psDelay}s`;
    }

    function handlePopupClosed() {
      startTextAnimation();
      popup.style.display = 'none';
    }

    denyBtn.addEventListener('click', () => {
      handlePopupClosed();
      audio.pause();
    });

    allowBtn.addEventListener('click', () => {
      handlePopupClosed();
      audio.muted = false;
      audio.play().catch(err => console.log('Audio error:', err));
    });

    audio.play().catch(() => {});

    function startMusicOnInteraction() {
      audio.muted = false;
      audio.play().catch(err => console.log('Audio error:', err));
      window.removeEventListener('click', startMusicOnInteraction);
      window.removeEventListener('touchstart', startMusicOnInteraction);
    }

    const isAndroid = /Android/i.test(navigator.userAgent);

    if (isAndroid) {
      popup.style.display = 'flex';
      lines.forEach(line => {
        line.style.opacity = 0;
        line.style.transform = 'translateY(20px)';
        line.style.animation = 'none';
      });
      psBox.style.opacity = 0;
      psBox.style.transform = 'translateY(20px)';
      psBox.style.animation = 'none';
    } else {
      window.addEventListener('click', startMusicOnInteraction, { once: true });
      window.addEventListener('touchstart', startMusicOnInteraction, { once: true });
      startTextAnimation();
    }
  </script>

</body>
</html>
